<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI ê²€ì‚¬ - 16ë¬¸í•­</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <style>
        body { 
            font-family: 'Noto Sans KR', sans-serif; 
            background: linear-gradient(135deg, #45769E 0%, #288990 50%, #75C9E3 100%);
            color: white; 
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .progress-section {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        .progress-fill {
            background: linear-gradient(90deg, #FFB629, #A5C5C2);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        .progress-text {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        .question-card {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        .question-title {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }
        .options {
            display: grid;
            gap: 15px;
        }
        .option {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            text-align: center;
        }
        .option:hover {
            background: rgba(255,255,255,0.2);
            border-color: #FFB629;
            transform: translateY(-2px);
        }
        .option.selected {
            background: #FFB629;
            color: #333;
            border-color: #FFB629;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }
        .btn {
            background: #FFB629;
            color: #333;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }
        .btn:hover { 
            background: #e6a425; 
            transform: translateY(-2px);
        }
        .btn:disabled { 
            opacity: 0.5; 
            cursor: not-allowed; 
            transform: none;
        }
        .btn-secondary {
            background: #288990;
            color: white;
        }
        .btn-secondary:hover {
            background: #1f6b73;
        }
        .answer-summary {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }
        .answer-item {
            display: inline-block;
            margin: 5px;
            padding: 5px 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            font-size: 14px;
        }
        .answer-item.answered {
            background: #A5C5C2;
            color: #333;
        }
        .result-section {
            display: none;
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .result-type {
            font-size: 4em;
            color: #FFB629;
            margin: 20px 0;
        }
        .result-name {
            font-size: 2em;
            margin: 10px 0;
        }
        .result-desc {
            font-size: 1.2em;
            margin: 20px 0;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  MBTI ì„±ê²©ê²€ì‚¬ (16ë¬¸í•­)</h1>
            <p>ê° ì§ˆë¬¸ì— ê°€ì¥ ì†”ì§í•˜ê²Œ ë‹µë³€í•´ì£¼ì„¸ìš”</p>
        </div>

        <div id="test-section">
            <!-- ì§„í–‰ë¥  í‘œì‹œ -->
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">ë¬¸í•­ 1 / 16</div>
                
                <!-- ë‹µë³€ í˜„í™© í‘œì‹œ -->
                <div class="answer-summary">
                    <div style="margin-bottom: 10px; font-weight: bold;">ë‹µë³€ í˜„í™©:</div>
                    <div id="answerStatus"></div>
                </div>
            </div>

            <!-- ì§ˆë¬¸ ì¹´ë“œ -->
            <div class="question-card">
                <div class="question-title" id="questionText">
                    ì§ˆë¬¸ì´ ë¡œë”©ì¤‘ì…ë‹ˆë‹¤...
                </div>
                <div class="options" id="optionsContainer">
                    <!-- ì˜µì…˜ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>
                    â† ì´ì „
                </button>
                <div style="display: flex; gap: 10px;">
                    <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>
                        ë‹¤ìŒ â†’
                    </button>
                    <button class="btn" id="finishBtn" onclick="finishTest()" style="display: none;">
                        ê²°ê³¼ ë³´ê¸° ğŸ¯
                    </button>
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ ì„¹ì…˜ -->
        <div id="result-section" class="result-section">
            <div class="result-type" id="resultType">INTJ</div>
            <div class="result-name" id="resultName">ê±´ì¶•ê°€</div>
            <div class="result-desc" id="resultDesc">ë‹¹ì‹ ì˜ ì„±ê²© ë¶„ì„ ê²°ê³¼ì…ë‹ˆë‹¤.</div>
            <div style="margin-top: 30px;">
                <button class="btn" onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
                <button class="btn btn-secondary" onclick="goToMain()">ë©”ì¸ìœ¼ë¡œ</button>
            </div>
        </div>
    </div>

    <script>
        // MBTI ì§ˆë¬¸ ë°ì´í„° (16ë¬¸í•­)
        const questions = [
            {
                text: "íŒŒí‹°ì—ì„œ ë‹¹ì‹ ì€ ì£¼ë¡œ ì–´ë–»ê²Œ í–‰ë™í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë§ì€ ì‚¬ëŒë“¤ê³¼ ëŒ€í™”í•˜ë©° ì—ë„ˆì§€ë¥¼ ì–»ëŠ”ë‹¤", score: { E: 2 } },
                    { text: "ëª‡ëª‡ ì¹œí•œ ì‚¬ëŒë“¤ê³¼ ê¹Šì€ ëŒ€í™”ë¥¼ ë‚˜ëˆˆë‹¤", score: { E: 1 } },
                    { text: "ì¡°ìš©íˆ ê´€ì°°í•˜ë©° í•„ìš”í•  ë•Œë§Œ ëŒ€í™”í•œë‹¤", score: { I: 1 } },
                    { text: "ì¼ì° ì§‘ì— ê°€ê³  ì‹¶ì–´í•œë‹¤", score: { I: 2 } }
                ]
            },
            {
                text: "ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ì–´ë–¤ ì ‘ê·¼ì„ ì„ í˜¸í•˜ë‚˜ìš”?",
                options: [
                    { text: "êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•œë‹¤", score: { S: 2 } },
                    { text: "í˜„ì‹¤ì ì¸ ê³„íšì„ ì„¸ìš´ë‹¤", score: { S: 1 } },
                    { text: "ì „ì²´ì ì¸ ë¹„ì „ê³¼ ê°€ëŠ¥ì„±ì„ íƒìƒ‰í•œë‹¤", score: { N: 1 } },
                    { text: "ì°½ì˜ì ì´ê³  í˜ì‹ ì ì¸ ì•„ì´ë””ì–´ë¥¼ ë¸Œë ˆì¸ìŠ¤í† ë°í•œë‹¤", score: { N: 2 } }
                ]
            },
            {
                text: "ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•Œ ë¬´ì—‡ì„ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë…¼ë¦¬ì  ë¶„ì„ê³¼ ê°ê´€ì  ì‚¬ì‹¤", score: { T: 2 } },
                    { text: "íš¨ìœ¨ì„±ê³¼ ì‹¤ìš©ì„±", score: { T: 1 } },
                    { text: "ê´€ë ¨ëœ ì‚¬ëŒë“¤ì˜ ê°ì •ê³¼ ê´€ê³„", score: { F: 1 } },
                    { text: "ê°œì¸ì  ê°€ì¹˜ì™€ ì˜ë¯¸", score: { F: 2 } }
                ]
            },
            {
                text: "ì¼ìƒìƒí™œì—ì„œ ì–´ë–¤ ìŠ¤íƒ€ì¼ì„ ì„ í˜¸í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë¯¸ë¦¬ ê³„íšì„ ì„¸ìš°ê³  ì²´ê³„ì ìœ¼ë¡œ ì§„í–‰", score: { J: 2 } },
                    { text: "ê¸°ë³¸ì ì¸ ê³„íšì€ ì„¸ìš°ì§€ë§Œ ìœ ì—°í•˜ê²Œ ì¡°ì •", score: { J: 1 } },
                    { text: "ìƒí™©ì— ë”°ë¼ ì¦‰í¥ì ìœ¼ë¡œ ëŒ€ì‘", score: { P: 1 } },
                    { text: "ì™„ì „íˆ ììœ ë¡­ê³  ë¬´ê³„íšì ìœ¼ë¡œ ìƒí™œ", score: { P: 2 } }
                ]
            },
            {
                text: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ì–´ë–»ê²Œ ëŒ€ì²˜í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ì´ì•¼ê¸°í•˜ë©° í•´ê²°ì±…ì„ ì°¾ëŠ”ë‹¤", score: { E: 2 } },
                    { text: "ë¯¿ì„ ë§Œí•œ ì‚¬ëŒê³¼ ìƒì˜í•œë‹¤", score: { E: 1 } },
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° ìƒê°í•œë‹¤", score: { I: 1 } },
                    { text: "ì™„ì „íˆ í˜¼ìê°€ ë˜ì–´ ì¬ì¶©ì „í•œë‹¤", score: { I: 2 } }
                ]
            },
            {
                text: "í•™ìŠµí•  ë•Œ ì–´ë–¤ ë°©ì‹ì„ ì„ í˜¸í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë‹¨ê³„ë³„ë¡œ ì°¨ê·¼ì°¨ê·¼ ë°°ìš´ë‹¤", score: { S: 2 } },
                    { text: "ì‹¤ì œ ì˜ˆì‹œì™€ ê²½í—˜ì„ í†µí•´ ë°°ìš´ë‹¤", score: { S: 1 } },
                    { text: "ì „ì²´ì ì¸ ê°œë…ì„ ë¨¼ì € ì´í•´í•œë‹¤", score: { N: 1 } },
                    { text: "ì°½ì˜ì ì´ê³  ë…ì°½ì ì¸ ë°©ë²•ì„ ì°¾ëŠ”ë‹¤", score: { N: 2 } }
                ]
            },
            {
                text: "ê°ˆë“± ìƒí™©ì—ì„œ ì–´ë–»ê²Œ í–‰ë™í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë…¼ë¦¬ì™€ ì‚¬ì‹¤ì— ê¸°ë°˜í•´ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤", score: { T: 2 } },
                    { text: "ê³µì •í•˜ê³  ê°ê´€ì ì¸ ê¸°ì¤€ì„ ì ìš©í•œë‹¤", score: { T: 1 } },
                    { text: "ëª¨ë“  ì‚¬ëŒì˜ ê°ì •ì„ ê³ ë ¤í•œë‹¤", score: { F: 1 } },
                    { text: "í™”í•©ê³¼ ì¡°í™”ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ í•œë‹¤", score: { F: 2 } }
                ]
            },
            {
                text: "ì—¬í–‰ ê³„íšì„ ì„¸ìš¸ ë•Œ:",
                options: [
                    { text: "ìì„¸í•œ ì¼ì •ê³¼ ì˜ˆì•½ì„ ë¯¸ë¦¬ ì™„ë£Œí•œë‹¤", score: { J: 2 } },
                    { text: "ì£¼ìš” ì¼ì •ì€ ì •í•˜ê³  ì„¸ë¶€ì‚¬í•­ì€ ë‚˜ì¤‘ì—", score: { J: 1 } },
                    { text: "ê¸°ë³¸ì ì¸ ê²ƒë§Œ ì •í•˜ê³  í˜„ì§€ì—ì„œ ê²°ì •", score: { P: 1 } },
                    { text: "ê³„íš ì—†ì´ ììœ ë¡­ê²Œ ì—¬í–‰í•œë‹¤", score: { P: 2 } }
                ]
            },
            {
                text: "ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚  ë•Œ:",
                options: [
                    { text: "ë¨¼ì € ë‹¤ê°€ê°€ì„œ ëŒ€í™”ë¥¼ ì‹œì‘í•œë‹¤", score: { E: 2 } },
                    { text: "ìƒí™©ì— ë”°ë¼ ì ê·¹ì ìœ¼ë¡œ ë‹¤ê°€ê°„ë‹¤", score: { E: 1 } },
                    { text: "ìƒëŒ€ë°©ì´ ë¨¼ì € ë‹¤ê°€ì˜¤ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤", score: { I: 1 } },
                    { text: "ê°€ëŠ¥í•œ í•œ ì ‘ì´‰ì„ í”¼í•œë‹¤", score: { I: 2 } }
                ]
            },
            {
                text: "ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ:",
                options: [
                    { text: "ê²€ì¦ëœ ë°©ë²•ê³¼ ê²½í—˜ì„ í™œìš©í•œë‹¤", score: { S: 2 } },
                    { text: "ì‹¤ìš©ì ì´ê³  í˜„ì‹¤ì ì¸ ì ‘ê·¼ì„ í•œë‹¤", score: { S: 1 } },
                    { text: "ìƒˆë¡œìš´ ê´€ì ê³¼ ì•„ì´ë””ì–´ë¥¼ ì‹œë„í•œë‹¤", score: { N: 1 } },
                    { text: "ì™„ì „íˆ í˜ì‹ ì ì¸ ë°©ë²•ì„ ì°¾ëŠ”ë‹¤", score: { N: 2 } }
                ]
            },
            {
                text: "ë¹„íŒì„ ë°›ì„ ë•Œ:",
                options: [
                    { text: "ê°ê´€ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ê°œì„ ë°©ì•ˆì„ ì°¾ëŠ”ë‹¤", score: { T: 2 } },
                    { text: "ë…¼ë¦¬ì ìœ¼ë¡œ ëŒ€ì‘í•œë‹¤", score: { T: 1 } },
                    { text: "ìƒì²˜ë°›ì§€ë§Œ ê´€ê³„ë¥¼ ê³ ë ¤í•œë‹¤", score: { F: 1 } },
                    { text: "ë§¤ìš° ì˜ˆë¯¼í•˜ê²Œ ë°˜ì‘í•œë‹¤", score: { F: 2 } }
                ]
            },
            {
                text: "ë°ë“œë¼ì¸ì´ ìˆëŠ” ì¼ì„ í•  ë•Œ:",
                options: [
                    { text: "ë¯¸ë¦¬ë¯¸ë¦¬ ì™„ë£Œí•˜ì—¬ ì—¬ìœ ë¥¼ ë‘”ë‹¤", score: { J: 2 } },
                    { text: "ê³„íšì ìœ¼ë¡œ ì§„í–‰í•œë‹¤", score: { J: 1 } },
                    { text: "ë§ˆì§€ë§‰ì— ì§‘ì¤‘í•´ì„œ ì™„ì„±í•œë‹¤", score: { P: 1 } },
                    { text: "ì••ë°•ê°ì´ ìˆì–´ì•¼ ë” ì˜í•œë‹¤", score: { P: 2 } }
                ]
            },
            {
                text: "ì‡¼í•‘í•  ë•Œ:",
                options: [
                    { text: "ë¯¸ë¦¬ ëª©ë¡ì„ ë§Œë“¤ê³  ê³„íšì ìœ¼ë¡œ êµ¬ë§¤", score: { J: 2 } },
                    { text: "í•„ìš”í•œ ê²ƒë“¤ì„ ìƒê°í•´ë‘ê³  êµ¬ë§¤", score: { J: 1 } },
                    { text: "ë‘˜ëŸ¬ë³´ë‹¤ê°€ ë§ˆìŒì— ë“œëŠ” ê²ƒ êµ¬ë§¤", score: { P: 1 } },
                    { text: "ì¶©ë™ì ìœ¼ë¡œ êµ¬ë§¤í•˜ëŠ” í¸", score: { P: 2 } }
                ]
            },
            {
                text: "íŒ€ í”„ë¡œì íŠ¸ì—ì„œ:",
                options: [
                    { text: "ì ê·¹ì ìœ¼ë¡œ ì˜ê²¬ì„ ì œì‹œí•˜ê³  í† ë¡ í•œë‹¤", score: { E: 2 } },
                    { text: "í•„ìš”í•  ë•Œ ì˜ê²¬ì„ ë§í•œë‹¤", score: { E: 1 } },
                    { text: "ì£¼ë¡œ ë“£ê³  ê´€ì°°í•œë‹¤", score: { I: 1 } },
                    { text: "í˜¼ì í•˜ëŠ” ì¼ì„ ì„ í˜¸í•œë‹¤", score: { I: 2 } }
                ]
            },
            {
                text: "ìƒˆë¡œìš´ ì·¨ë¯¸ë¥¼ ì‹œì‘í•  ë•Œ:",
                options: [
                    { text: "ê¸°ì´ˆë¶€í„° ì²´ê³„ì ìœ¼ë¡œ ë°°ìš´ë‹¤", score: { S: 2 } },
                    { text: "ì‹¤ìš©ì ì¸ ê²ƒë¶€í„° ì‹œì‘í•œë‹¤", score: { S: 1 } },
                    { text: "ì°½ì˜ì ì¸ ë°©ë²•ì„ ì‹œë„í•œë‹¤", score: { N: 1 } },
                    { text: "ì™„ì „íˆ ìƒˆë¡œìš´ ì ‘ê·¼ì„ ì‹œë„í•œë‹¤", score: { N: 2 } }
                ]
            },
            {
                text: "ì¸ìƒì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€:",
                options: [
                    { text: "ì„±ì·¨ì™€ ëª©í‘œ ë‹¬ì„±", score: { T: 2 } },
                    { text: "íš¨ìœ¨ì„±ê³¼ ìƒì‚°ì„±", score: { T: 1 } },
                    { text: "ê´€ê³„ì™€ ì‚¬ë‘", score: { F: 1 } },
                    { text: "ê°œì¸ì  ì„±ì¥ê³¼ ì˜ë¯¸", score: { F: 2 } }
                ]
            }
        ];

        // MBTI íƒ€ì… ì •ë³´
        const mbtiTypes = {
            'ENTJ': { name: 'í†µì†”ì', desc: 'ëŒ€ë‹´í•˜ê³  ìƒìƒë ¥ì´ í’ë¶€í•œ ê°•ë ¥í•œ ì˜ì§€ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.' },
            'ENTP': { name: 'ë³€ë¡ ê°€', desc: 'ë˜‘ë˜‘í•˜ê³  í˜¸ê¸°ì‹¬ì´ ë§ì€ ì‚¬ìƒê°€ì…ë‹ˆë‹¤.' },
            'ENFJ': { name: 'ì„ ë„ì', desc: 'ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê³  ì˜ê°ì„ ì£¼ëŠ” ì§€ë„ìì…ë‹ˆë‹¤.' },
            'ENFP': { name: 'í™œë™ê°€', desc: 'ì—´ì •ì ì´ê³  ì°½ì˜ì ì¸ ììœ ë¡œìš´ ì˜í˜¼ì…ë‹ˆë‹¤.' },
            'ESTJ': { name: 'ê²½ì˜ì', desc: 'ë›°ì–´ë‚œ ê´€ë¦¬ìì´ì ì²´ê³„ì ì¸ ì‹¤í–‰ìì…ë‹ˆë‹¤.' },
            'ESTP': { name: 'ì‚¬ì—…ê°€', desc: 'ë˜‘ë˜‘í•˜ê³  ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” í˜„ì‹¤ì£¼ì˜ìì…ë‹ˆë‹¤.' },
            'ESFJ': { name: 'ì§‘ì •ê´€', desc: 'ë”°ëœ»í•˜ê³  ë°°ë ¤ì‹¬ ë§ì€ í˜‘ë ¥ìì…ë‹ˆë‹¤.' },
            'ESFP': { name: 'ì—°ì˜ˆì¸', desc: 'ìë°œì ì´ê³  ì—´ì •ì ì¸ ì¦ê±°ì›€ ì¶”êµ¬ìì…ë‹ˆë‹¤.' },
            'INTJ': { name: 'ê±´ì¶•ê°€', desc: 'ìƒìƒë ¥ì´ í’ë¶€í•˜ê³  ì „ëµì ì¸ ì‚¬ê³ ë¥¼ í•˜ëŠ” ì™„ë²½ì£¼ì˜ìì…ë‹ˆë‹¤.' },
            'INTP': { name: 'ë…¼ë¦¬ìˆ ì‚¬', desc: 'í˜ì‹ ì ì´ê³  ë…ì°½ì ì¸ ì´ë¡ ê°€ì…ë‹ˆë‹¤.' },
            'INFJ': { name: 'ì˜¹í˜¸ì', desc: 'ì„ ì˜ì™€ ì›ì¹™ì„ ê°€ì§„ ì´ìƒì£¼ì˜ìì…ë‹ˆë‹¤.' },
            'INFP': { name: 'ì¤‘ì¬ì', desc: 'ì‹œì ì´ê³  ì¹œì ˆí•œ ì´íƒ€ì£¼ì˜ìì…ë‹ˆë‹¤.' },
            'ISTJ': { name: 'í˜„ì‹¤ì£¼ì˜ì', desc: 'ì‹¤ìš©ì ì´ê³  ì‚¬ì‹¤ì— ê¸°ë°˜í•œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.' },
            'ISTP': { name: 'ë§ŒëŠ¥ì¬ì£¼ê¾¼', desc: 'ëŒ€ë‹´í•˜ê³  ì‹¤ìš©ì ì¸ ì‹¤í—˜ê°€ì…ë‹ˆë‹¤.' },
            'ISFJ': { name: 'ìˆ˜í˜¸ì', desc: 'ë”°ëœ»í•˜ê³  í—Œì‹ ì ì¸ ë³´í˜¸ìì…ë‹ˆë‹¤.' },
            'ISFP': { name: 'ëª¨í—˜ê°€', desc: 'ìœ ì—°í•˜ê³  ë§¤ë ¥ì ì¸ ì˜ˆìˆ ê°€ì…ë‹ˆë‹¤.' }
        };

        let currentQuestion = 0;
        let answers = [];
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

        // í˜ì´ì§€ ì´ˆê¸°í™”
        function initializePage() {
            console.log('í˜ì´ì§€ ì´ˆê¸°í™” ì‹œì‘');
            showQuestion(0);
            updateAnswerStatus();
        }

        // ì§ˆë¬¸ í‘œì‹œ
        function showQuestion(index) {
            if (index >= questions.length) return;
            
            const question = questions[index];
            document.getElementById('questionText').textContent = `${index + 1}. ${question.text}`;
            
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            
            question.options.forEach((option, i) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option.text;
                optionDiv.onclick = () => selectOption(i);
                
                // ì´ì „ ì„ íƒ ë³µì›
                if (answers[currentQuestion] === i) {
                    optionDiv.classList.add('selected');
                }
                
                container.appendChild(optionDiv);
            });
            
            updateProgress();
            updateButtons();
            updateAnswerStatus();
        }

        // ì˜µì…˜ ì„ íƒ
        function selectOption(optionIndex) {
            // ì´ì „ ì„ íƒ ì œê±°
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // ìƒˆ ì„ íƒ í‘œì‹œ
            document.querySelectorAll('.option')[optionIndex].classList.add('selected');
            
            // ë‹µë³€ ì €ì¥
            answers[currentQuestion] = optionIndex;
            
            // ì ìˆ˜ ì—…ë°ì´íŠ¸
            updateScores();
            updateButtons();
            updateAnswerStatus();
            
            console.log(`ì§ˆë¬¸ ${currentQuestion + 1} ë‹µë³€: ${optionIndex + 1}`);
        }

        // ì ìˆ˜ ì—…ë°ì´íŠ¸
        function updateScores() {
            // ì ìˆ˜ ì´ˆê¸°í™”
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            // ëª¨ë“  ë‹µë³€ì˜ ì ìˆ˜ í•©ì‚°
            answers.forEach((answer, questionIndex) => {
                if (answer !== undefined) {
                    const question = questions[questionIndex];
                    const selectedOption = question.options[answer];
                    Object.entries(selectedOption.score).forEach(([key, value]) => {
                        scores[key] += value;
                    });
                }
            });
            
            console.log('í˜„ì¬ ì ìˆ˜:', scores);
        }

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `ë¬¸í•­ ${currentQuestion + 1} / ${questions.length}`;
        }

        // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateButtons() {
            const hasAnswer = answers[currentQuestion] !== undefined;
            const isFirst = currentQuestion === 0;
            const isLast = currentQuestion === questions.length - 1;
            
            document.getElementById('prevBtn').disabled = isFirst;
            document.getElementById('nextBtn').disabled = !hasAnswer || isLast;
            document.getElementById('nextBtn').style.display = isLast ? 'none' : 'block';
            document.getElementById('finishBtn').style.display = (isLast && hasAnswer) ? 'block' : 'none';
        }

        // ë‹µë³€ í˜„í™© ì—…ë°ì´íŠ¸
        function updateAnswerStatus() {
            const container = document.getElementById('answerStatus');
            container.innerHTML = '';
            
            for (let i = 0; i < questions.length; i++) {
                const item = document.createElement('div');
                item.className = 'answer-item';
                item.textContent = i + 1;
                
                if (answers[i] !== undefined) {
                    item.classList.add('answered');
                }
                
                container.appendChild(item);
            }
        }

        // ë‹¤ìŒ ì§ˆë¬¸
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        // ì´ì „ ì§ˆë¬¸
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        // í…ŒìŠ¤íŠ¸ ì™„ë£Œ
        function finishTest() {
            // ëª¨ë“  ë‹µë³€ì´ ìˆëŠ”ì§€ í™•ì¸
            if (answers.length !== questions.length || answers.some(a => a === undefined)) {
                alert('ëª¨ë“  ì§ˆë¬¸ì— ë‹µë³€í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ìµœì¢… ì ìˆ˜ ê³„ì‚°
            updateScores();
            
            // MBTI íƒ€ì… ê²°ì •
            const type = [
                scores.E >= scores.I ? 'E' : 'I',
                scores.S >= scores.N ? 'S' : 'N',
                scores.T >= scores.F ? 'T' : 'F',
                scores.J >= scores.P ? 'J' : 'P'
            ].join('');
            
            const typeInfo = mbtiTypes[type];
            
            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('resultType').textContent = type;
            document.getElementById('resultName').textContent = typeInfo.name;
            document.getElementById('resultDesc').textContent = typeInfo.desc;
            
            // í™”ë©´ ì „í™˜
            document.getElementById('test-section').style.display = 'none';
            document.getElementById('result-section').style.display = 'block';
            
            // ê²°ê³¼ ì €ì¥
            localStorage.setItem('mbti_result', JSON.stringify({
                type: type,
                name: typeInfo.name,
                description: typeInfo.desc,
                scores: scores,
                answers: answers,
                timestamp: new Date().toISOString()
            }));
            
            console.log('í…ŒìŠ¤íŠ¸ ì™„ë£Œ! ê²°ê³¼:', type);
        }

        // ë‹¤ì‹œ í…ŒìŠ¤íŠ¸
        function restartTest() {
            currentQuestion = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            document.getElementById('test-section').style.display = 'block';
            document.getElementById('result-section').style.display = 'none';
            
            showQuestion(0);
        }

        // ë©”ì¸ìœ¼ë¡œ ì´ë™
        function goToMain() {
            window.location.href = 'index.html';
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            initializePage();
        };
    </script>
</body>
</html>