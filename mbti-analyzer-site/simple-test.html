// ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ìš© í˜ì´ì§€
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI ê°„ë‹¨ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: linear-gradient(135deg, #45769E 0%, #288990 50%, #75C9E3 100%);
            color: white; 
            min-height: 100vh;
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .question-card {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .option {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .option:hover {
            background: rgba(255,255,255,0.2);
            border-color: #FFB629;
        }
        .option.selected {
            background: #FFB629;
            color: #333;
        }
        button {
            background: #FFB629;
            color: #333;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            font-weight: bold;
        }
        button:hover { background: #e6a425; }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        .progress { 
            background: rgba(255,255,255,0.2); 
            height: 10px; 
            border-radius: 5px; 
            overflow: hidden; 
            margin: 20px 0;
        }
        .progress-fill { 
            background: #FFB629; 
            height: 100%; 
            width: 0%; 
            transition: width 0.3s;
        }
        .result {
            text-align: center;
            padding: 30px;
        }
        .result h1 {
            font-size: 3em;
            margin: 20px 0;
            color: #FFB629;
        }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <div id="test-section">
            <h1>ğŸ§  ê°„ë‹¨ MBTI í…ŒìŠ¤íŠ¸</h1>
            <div class="progress">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">0/8 ì™„ë£Œ</p>
            
            <div class="question-card">
                <h3 id="questionText">ì§ˆë¬¸ì´ ë¡œë”©ì¤‘ì…ë‹ˆë‹¤...</h3>
                <div id="optionsContainer">
                    <!-- ì˜µì…˜ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>
            
            <button onclick="previousQuestion()" id="prevBtn" disabled>ì´ì „</button>
            <button onclick="nextQuestion()" id="nextBtn" disabled>ë‹¤ìŒ</button>
            <button onclick="finishTest()" id="finishBtn" class="hidden">ê²°ê³¼ ë³´ê¸°</button>
        </div>
        
        <div id="result-section" class="result hidden">
            <h1 id="resultType">INTJ</h1>
            <h2 id="resultNickname">ê±´ì¶•ê°€</h2>
            <p id="resultDescription">ë‹¹ì‹ ì˜ ì„±ê²© ë¶„ì„ ê²°ê³¼ì…ë‹ˆë‹¤.</p>
            <button onclick="restartTest()">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
            <button onclick="goToMain()">ë©”ì¸ìœ¼ë¡œ</button>
        </div>
    </div>

    <script>
        // ê°„ë‹¨í•œ MBTI ì§ˆë¬¸ë“¤
        const simpleQuestions = [
            {
                text: "ìƒˆë¡œìš´ ì‚¬ëŒë“¤ê³¼ ë§Œë‚˜ëŠ” ê²ƒì´ ì–´ë–»ê²Œ ëŠê»´ì§€ë‚˜ìš”?",
                options: [
                    { text: "ì—ë„ˆì§€ê°€ ì¶©ì „ë˜ê³  ì¦ê²ë‹¤", score: { E: 2 } },
                    { text: "ì ë‹¹íˆ ê´œì°®ë‹¤", score: { E: 1 } },
                    { text: "ì¡°ê¸ˆ í”¼ê³¤í•˜ë‹¤", score: { I: 1 } },
                    { text: "ë§¤ìš° í”¼ê³¤í•˜ê³  í˜ë“¤ë‹¤", score: { I: 2 } }
                ]
            },
            {
                text: "ë¬¸ì œë¥¼ í•´ê²°í•  ë•Œ ì–´ë–¤ ë°©ì‹ì„ ì„ í˜¸í•˜ë‚˜ìš”?",
                options: [
                    { text: "êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ê²½í—˜ì— ì˜ì¡´í•œë‹¤", score: { S: 2 } },
                    { text: "ì‚¬ì‹¤ì„ ì¤‘ì‹œí•˜ì§€ë§Œ ì§ê°ë„ ê³ ë ¤í•œë‹¤", score: { S: 1 } },
                    { text: "ì§ê°ì„ ì¤‘ì‹œí•˜ì§€ë§Œ ì‚¬ì‹¤ë„ í™•ì¸í•œë‹¤", score: { N: 1 } },
                    { text: "ì§ê°ê³¼ ê°€ëŠ¥ì„±ì„ ìš°ì„  íƒìƒ‰í•œë‹¤", score: { N: 2 } }
                ]
            },
            {
                text: "ê²°ì •ì„ ë‚´ë¦´ ë•Œ ë¬´ì—‡ì„ ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë‚˜ìš”?",
                options: [
                    { text: "ë…¼ë¦¬ì  ë¶„ì„ê³¼ ê°ê´€ì  ì‚¬ì‹¤", score: { T: 2 } },
                    { text: "ë…¼ë¦¬ë¥¼ ì¤‘ì‹œí•˜ì§€ë§Œ ê°ì •ë„ ê³ ë ¤", score: { T: 1 } },
                    { text: "ê°ì •ì„ ì¤‘ì‹œí•˜ì§€ë§Œ ë…¼ë¦¬ë„ ê³ ë ¤", score: { F: 1 } },
                    { text: "ì‚¬ëŒë“¤ì˜ ê°ì •ê³¼ ê°€ì¹˜", score: { F: 2 } }
                ]
            },
            {
                text: "ì¼ìƒìƒí™œì—ì„œ ì–´ë–¤ ìŠ¤íƒ€ì¼ì„ ì„ í˜¸í•˜ë‚˜ìš”?",
                options: [
                    { text: "ê³„íšì„ ì„¸ìš°ê³  ì²´ê³„ì ìœ¼ë¡œ ì§„í–‰", score: { J: 2 } },
                    { text: "ì–´ëŠ ì •ë„ ê³„íšì€ ì„¸ìš°ëŠ” í¸", score: { J: 1 } },
                    { text: "ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ëŒ€ì‘", score: { P: 1 } },
                    { text: "ì¦‰í¥ì ì´ê³  ììœ ë¡­ê²Œ í–‰ë™", score: { P: 2 } }
                ]
            },
            {
                text: "ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ë°›ì„ ë•Œ ì–´ë–»ê²Œ ëŒ€ì²˜í•˜ë‚˜ìš”?",
                options: [
                    { text: "ì‚¬ëŒë“¤ê³¼ ì´ì•¼ê¸°í•˜ë©° í•´ê²°", score: { E: 2 } },
                    { text: "ê°€ë” ì‚¬ëŒë“¤ê³¼ ìƒì˜í•œë‹¤", score: { E: 1 } },
                    { text: "ì£¼ë¡œ í˜¼ì ìƒê°í•œë‹¤", score: { I: 1 } },
                    { text: "í˜¼ìë§Œì˜ ì‹œê°„ì´ ê¼­ í•„ìš”í•˜ë‹¤", score: { I: 2 } }
                ]
            },
            {
                text: "ìƒˆë¡œìš´ ì •ë³´ë¥¼ ë°›ì•„ë“¤ì¼ ë•Œ:",
                options: [
                    { text: "ì„¸ë¶€ì‚¬í•­ê³¼ ë‹¨ê³„ë³„ ì„¤ëª…ì´ ì¢‹ë‹¤", score: { S: 2 } },
                    { text: "êµ¬ì²´ì  ì˜ˆì‹œê°€ ìˆìœ¼ë©´ ì¢‹ë‹¤", score: { S: 1 } },
                    { text: "ì „ì²´ì ì¸ ê°œë…ì„ ë¨¼ì € ì´í•´í•˜ê³  ì‹¶ë‹¤", score: { N: 1 } },
                    { text: "ê°€ëŠ¥ì„±ê³¼ ì˜ë¯¸ë¥¼ ì°¾ê³  ì‹¶ë‹¤", score: { N: 2 } }
                ]
            },
            {
                text: "ê°ˆë“± ìƒí™©ì—ì„œ:",
                options: [
                    { text: "ê°ê´€ì  ê¸°ì¤€ìœ¼ë¡œ í•´ê²°í•˜ë ¤ í•œë‹¤", score: { T: 2 } },
                    { text: "ê³µì •ì„±ì„ ì¤‘ì‹œí•œë‹¤", score: { T: 1 } },
                    { text: "ëª¨ë“  ì‚¬ëŒì˜ ë§ˆìŒì„ ê³ ë ¤í•œë‹¤", score: { F: 1 } },
                    { text: "í™”í•©ê³¼ ì¡°í™”ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ í•œë‹¤", score: { F: 2 } }
                ]
            },
            {
                text: "ì—¬í–‰ ê³„íšì„ ì„¸ìš¸ ë•Œ:",
                options: [
                    { text: "ìì„¸í•œ ì¼ì •ê³¼ ì˜ˆì•½ì„ ë¯¸ë¦¬ í•œë‹¤", score: { J: 2 } },
                    { text: "í° í‹€ì€ ê³„íší•œë‹¤", score: { J: 1 } },
                    { text: "ê¸°ë³¸ë§Œ ì •í•˜ê³  í˜„ì§€ì—ì„œ ê²°ì •", score: { P: 1 } },
                    { text: "ê³„íš ì—†ì´ ììœ ë¡­ê²Œ ëŒì•„ë‹¤ë‹Œë‹¤", score: { P: 2 } }
                ]
            }
        ];

        // MBTI íƒ€ì… ì •ë³´
        const mbtiInfo = {
            'ENTJ': { nickname: 'í†µì†”ì', desc: 'ëŒ€ë‹´í•˜ê³  ìƒìƒë ¥ì´ í’ë¶€í•œ ê°•ë ¥í•œ ì˜ì§€ì˜ ì†Œìœ ì' },
            'ENTP': { nickname: 'ë³€ë¡ ê°€', desc: 'ë˜‘ë˜‘í•˜ê³  í˜¸ê¸°ì‹¬ì´ ë§ì€ ì‚¬ìƒê°€' },
            'ENFJ': { nickname: 'ì„ ë„ì', desc: 'ì¹´ë¦¬ìŠ¤ë§ˆ ìˆê³  ì˜ê°ì„ ì£¼ëŠ” ì§€ë„ì' },
            'ENFP': { nickname: 'í™œë™ê°€', desc: 'ì—´ì •ì ì´ê³  ì°½ì˜ì ì¸ ììœ ë¡œìš´ ì˜í˜¼' },
            'ESTJ': { nickname: 'ê²½ì˜ì', desc: 'ë›°ì–´ë‚œ ê´€ë¦¬ìì´ì ì²´ê³„ì ì¸ ì‹¤í–‰ì' },
            'ESTP': { nickname: 'ì‚¬ì—…ê°€', desc: 'ë˜‘ë˜‘í•˜ê³  ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” í˜„ì‹¤ì£¼ì˜ì' },
            'ESFJ': { nickname: 'ì§‘ì •ê´€', desc: 'ë”°ëœ»í•˜ê³  ë°°ë ¤ì‹¬ ë§ì€ í˜‘ë ¥ì' },
            'ESFP': { nickname: 'ì—°ì˜ˆì¸', desc: 'ìë°œì ì´ê³  ì—´ì •ì ì¸ ì¦ê±°ì›€ ì¶”êµ¬ì' },
            'INTJ': { nickname: 'ê±´ì¶•ê°€', desc: 'ìƒìƒë ¥ì´ í’ë¶€í•˜ê³  ì „ëµì ì¸ ì‚¬ê³ ë¥¼ í•˜ëŠ” ì™„ë²½ì£¼ì˜ì' },
            'INTP': { nickname: 'ë…¼ë¦¬ìˆ ì‚¬', desc: 'í˜ì‹ ì ì´ê³  ë…ì°½ì ì¸ ì´ë¡ ê°€' },
            'INFJ': { nickname: 'ì˜¹í˜¸ì', desc: 'ì„ ì˜ì™€ ì›ì¹™ì„ ê°€ì§„ ì´ìƒì£¼ì˜ì' },
            'INFP': { nickname: 'ì¤‘ì¬ì', desc: 'ì‹œì ì´ê³  ì¹œì ˆí•œ ì´íƒ€ì£¼ì˜ì' },
            'ISTJ': { nickname: 'í˜„ì‹¤ì£¼ì˜ì', desc: 'ì‹¤ìš©ì ì´ê³  ì‚¬ì‹¤ì— ê¸°ë°˜í•œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‚¬ëŒ' },
            'ISTP': { nickname: 'ë§ŒëŠ¥ì¬ì£¼ê¾¼', desc: 'ëŒ€ë‹´í•˜ê³  ì‹¤ìš©ì ì¸ ì‹¤í—˜ê°€' },
            'ISFJ': { nickname: 'ìˆ˜í˜¸ì', desc: 'ë”°ëœ»í•˜ê³  í—Œì‹ ì ì¸ ë³´í˜¸ì' },
            'ISFP': { nickname: 'ëª¨í—˜ê°€', desc: 'ìœ ì—°í•˜ê³  ë§¤ë ¥ì ì¸ ì˜ˆìˆ ê°€' }
        };

        let currentQuestion = 0;
        let answers = [];
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

        function showQuestion(index) {
            const question = simpleQuestions[index];
            document.getElementById('questionText').textContent = `${index + 1}. ${question.text}`;
            
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            
            question.options.forEach((option, i) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option.text;
                optionDiv.onclick = () => selectOption(i);
                container.appendChild(optionDiv);
            });
            
            updateProgress();
            updateButtons();
        }

        function selectOption(optionIndex) {
            // ì´ì „ ì„ íƒ ì œê±°
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            
            // ìƒˆ ì„ íƒ í‘œì‹œ
            document.querySelectorAll('.option')[optionIndex].classList.add('selected');
            
            // ë‹µë³€ ì €ì¥
            answers[currentQuestion] = optionIndex;
            
            // ì ìˆ˜ ê³„ì‚°
            const question = simpleQuestions[currentQuestion];
            const selectedOption = question.options[optionIndex];
            
            // ì´ì „ ë‹µë³€ ì ìˆ˜ ì œê±°
            if (answers[currentQuestion] !== undefined) {
                const prevOption = question.options[answers[currentQuestion]];
                Object.entries(prevOption.score).forEach(([key, value]) => {
                    scores[key] -= value;
                });
            }
            
            // ìƒˆ ì ìˆ˜ ì¶”ê°€
            Object.entries(selectedOption.score).forEach(([key, value]) => {
                scores[key] += value;
            });
            
            updateButtons();
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / simpleQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentQuestion + 1}/${simpleQuestions.length} ì™„ë£Œ`;
        }

        function updateButtons() {
            const hasAnswer = answers[currentQuestion] !== undefined;
            const isFirst = currentQuestion === 0;
            const isLast = currentQuestion === simpleQuestions.length - 1;
            
            document.getElementById('prevBtn').disabled = isFirst;
            document.getElementById('nextBtn').disabled = !hasAnswer || isLast;
            document.getElementById('finishBtn').classList.toggle('hidden', !isLast || !hasAnswer);
        }

        function nextQuestion() {
            if (currentQuestion < simpleQuestions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }

        function finishTest() {
            // MBTI íƒ€ì… ê²°ì •
            const type = [
                scores.E >= scores.I ? 'E' : 'I',
                scores.S >= scores.N ? 'S' : 'N',
                scores.T >= scores.F ? 'T' : 'F',
                scores.J >= scores.P ? 'J' : 'P'
            ].join('');
            
            // ê²°ê³¼ í‘œì‹œ
            const info = mbtiInfo[type];
            document.getElementById('resultType').textContent = type;
            document.getElementById('resultNickname').textContent = info.nickname;
            document.getElementById('resultDescription').textContent = info.desc;
            
            // í™”ë©´ ì „í™˜
            document.getElementById('test-section').classList.add('hidden');
            document.getElementById('result-section').classList.remove('hidden');
            
            // ê²°ê³¼ ì €ì¥
            localStorage.setItem('simple_mbti_result', JSON.stringify({
                type: type,
                nickname: info.nickname,
                description: info.desc,
                scores: scores
            }));
        }

        function restartTest() {
            currentQuestion = 0;
            answers = [];
            scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            document.getElementById('test-section').classList.remove('hidden');
            document.getElementById('result-section').classList.add('hidden');
            
            showQuestion(0);
        }

        function goToMain() {
            window.location.href = 'index.html';
        }

        // ì´ˆê¸°í™”
        window.onload = function() {
            showQuestion(0);
        };
    </script>
</body>
</html>